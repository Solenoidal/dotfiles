name: slack
filter_exec: "/Applications/Slack.app"

matches:
  - trigger: ";mr"
    form: |
      {{reviewer}} cc: {{subreviewer}}
      {{link}}
      [{{topic_text}}]({{topic_link}}) についてのMRです。レビューをお願い致します。
    form_fields:
      reviewer:
        type: choice
        values:
          - "@tsuru.nagayoshi"
          - "@mike.kodama"
          - "@mikan.ichinose"
          - "@720.nishioka"
      subreviewer:
        type: choice
        values:
          - ""
          - "@tsuru.nagayoshi"
          - "@mike.kodama"
          - "@mikan.ichinose"
          - "@720.nishioka"
#     replace: |
#       {{mr.reviewer}} cc: {{mr.subreviewer}}
#       {{mr.link}}
#       [{{mr.topic_text}}]({{mr.topic_link}}) についてのMRです。レビューをお願い致します。
#     vars:
#       - name: "mr"
#         type: form
#         params:
#           layout: |
#             reviewer? 
#             {{reviewer}}
#             subreviewer? 
#             {{subreviewer}}
#             link?
#             {{link}}
#             topic_text? 
#             {{topic_text}}
#             topic_link? 
#             {{topic_link}}
#           fields:
#             reviewer:
#               type: choice
#               values:
#                 - "@tsuru.nagayoshi"
#                 - "@mike.kodama"
#                 - "@mikan.ichinose"
#                 - "@720.nishioka"
#             subreviewer:
#               type: choice
#               values:
#                 - ""
#                 - "@tsuru.nagayoshi"
#                 - "@mike.kodama"
#                 - "@mikan.ichinose"
#                 - "@720.nishioka"
