[[plugins]]
repo = 'nvim-lua/plenary.nvim'
[[plugins]]
repo = 'MunifTanjim/nui.nvim'
[[plugins]]
repo = 'kyazdani42/nvim-web-devicons'
[[plugins]]
repo   = 'rcarriga/nvim-notify'
on_lua = 'notify'
#lua_source = '''
#require("notify").setup({
#  background_colour = "#000000",
#})
#vim.notify = require("notify")
#'''

[[plugins]]
repo = 'Shougo/junkfile.vim'
hook_add = '''
command! -nargs=0 JunkfileDay call junkfile#open_immediately(strftime('%Y-%m-%d.md'))
'''

[[plugins]]
repo     = 'goolord/alpha-nvim'
depends  = ['nvim-web-devicons']
on_event = 'VimEnter'

lua_source = '''
require('alpha').setup(require('alpha.themes.startify').config)
'''

[[plugins]]
repo     = 'folke/noice.nvim'
depends  = 'nui.nvim'
on_event = ['VimEnter', 'CursorHold']

lua_source = '''
require('noice').setup({
  lsp = {
    progress = {
      enabled = false,
    },
  },
  -- cmdline = {
  --  enabled = true,
  --  icons = {
  --    ['/'] = { icon = '/', hl_group = 'DiagnosticWarn' },
  --    ['?'] = { icon = '?', hl_group = 'DiagnosticWarn' },
  --    [':'] = { icon = ':', hl_group = 'DiagnosticInfo', firstc = false },
  --  },
  -- },
  --popupmenu = {
  --  enabled = true,
  --},
  messages = {
    enabled = false,
  },
  --routes = {
  --  {
  --    view = "split",
  --    filter = { min_width = 500 },
  --  },
  --},
})
'''

# NOTE: statusline
[[plugins]]
repo     = 'rebelot/heirline.nvim'
on_event = ['VimEnter', 'CursorHold']

lua_source = '''
require('custom.heirline')
'''

[[plugins]]
repo   = 'folke/trouble.nvim'
on_cmd = ['Trouble', 'TroubleToggle']

lua_source = '''
require('trouble').setup()
'''

[[plugins]]
repo    = 'thinca/vim-partedit'
on_cmd  = ['Partedit']
on_func = ['partedit#start']

hook_add = '''
let g:partedit#opener = 'new'
'''

[[plugins]]
repo     = 'vim-scripts/vim-auto-save'
on_event = 'InsertEnter'

hook_add = '''
let g:auto_save = 1
let g:auto_save_no_updatetime = 1
let g:auto_save_in_insert_mode = 0
let g:auto_save_silent = 1
'''

[[plugins]]
repo = 'Shougo/context_filetype.vim'
#on_ft = ['toml', 'markdown', 'lua', 'vim']

hook_add = '''
let g:context_filetype#ignore_patterns = {
   \ 'toml': ['^\s*#\s*'],
   \ }
'''

# NOTE: comment
[[plugins]]
repo     = 'tyru/caw.vim'
on_event = ['CursorHold', 'BufRead']
depends  = 'context_filetype.vim'

hook_add = '''
" disable default keymap
let g:caw_no_default_keymappings = 1
let g:caw_integrated_plugin = "context_filetype"

nmap gcc <Plug>(caw:hatpos:toggle)
nmap gci <Plug>(caw:hatpos:comment)
nmap gcI <Plug>(caw:zeropos:comment)
nmap gca <Plug>(caw:dollarpos:comment)
nmap gcw <Plug>(caw:wrap:comment)
nmap gcb <Plug>(caw:box:comment)
nmap gco <Plug>(caw:jump:comment-next)
nmap gcO <Plug>(caw:jump:comment-prev)

xmap gc <Plug>(caw:hatpos:toggle)
'''

[[plugins]]
repo  = 'lfilho/cosco.vim'
on_ft = ['php', 'rust', 'java', 'dart']
if    = 0

hook_source = '''
" autocmd FileType php,rust,java,dart nmap <silent> <Leader>; <Plug>(cosco-commaOrSemiColon)
let g:cosco_filetype_whitelist = ['php', 'rust', 'java', 'dart']
'''

## NOTE: git
# [[plugins]]
# repo     = 'lambdalisue/gina.vim'
# on_event = 'VimEnter'
# [plugins.ftplugin]
# gina-status = '''
# nmap <buffer> < <Plug>(gina-index-stage)
# xmap <buffer> < <Plug>(gina-index-stage)
# nmap <buffer> > <Plug>(gina-index-unstage)
# xmap <buffer> > <Plug>(gina-index-unstage)
# '''
[[plugins]]
repo     = 'itchyny/vim-gitbranch'
on_event = 'BufReadPre'
[[plugins]]
repo     = 'lambdalisue/gin.vim'
depends  = 'denops.vim'
on_event = 'BufReadPre'

on_cmd = [
  'Gin',
  'GinBranch',
  'GinBuffer',
  'GinChaperon',
  'GinDiff',
  'GinEdit',
  'GinStatus',
]
hook_add = '''
" let g:gin_branch_disable_default_mappings = 1
" let g:gin_chaperon_disable_default_mappings = 1
" let g:gin_diff_disable_default_mappings = 1
" let g:gin_patch_disable_default_mappings = 1
" let g:gin_status_disable_default_mappings = 1
silent! !git rev-parse --is-inside-work-tree
if v:shell_error == 0
  lua require('custom.gin.keymap')
endif
'''
# [plugins.ftplugin]
# gin = '''
# '''
# gin-branch = '''
# map <buffer><nowait> a <Plug>(gin-action-choice)
# map <buffer><nowait> . <Plug>(gin-action-repeat)
# nmap <buffer><nowait> ? <Plug>(gin-action-help)
# '''
# gin-diff = '''
# map <buffer><nowait> a <Plug>(gin-action-choice)
# map <buffer><nowait> . <Plug>(gin-action-repeat)
# nmap <buffer><nowait> ? <Plug>(gin-action-help)
# 
# nmap <buffer> <CR> <Plug>(gin-diffjump-smart)
# '''
# gin-edit = '''
# map <buffer><nowait> a <Plug>(gin-action-choice)
# map <buffer><nowait> . <Plug>(gin-action-repeat)
# nmap <buffer><nowait> ? <Plug>(gin-action-help)
# '''
# gin-status = '''
# map <buffer><nowait> a <Plug>(gin-action-choice)
# map <buffer><nowait> . <Plug>(gin-action-repeat)
# nmap <buffer><nowait> ? <Plug>(gin-action-help)
# '''
[[plugins]]
repo     = 'lewis6991/gitsigns.nvim'
on_event = 'BufReadPre'

lua_source = '''
require("custom.gitsigns")
'''

# [[plugins]]
# repo = 'folke/twilight.nvim'
# on_cmd = 'Twilight'
# hook_add = '''
# nnoremap T <Cmd>Twilight<CR>
# '''
# hook_source = '''
# lua << EOF
#   require("twilight").setup {}
# EOF
# '''

[[plugins]]
repo = 'williamboman/mason.nvim'
[[plugins]]
repo = 'williamboman/mason-lspconfig.nvim'
[[plugins]]
repo = 'jayp0521/mason-null-ls.nvim'
lua_source = '''
require('mason-null-ls').setup({
  automatic_setup = true,
})
'''
## NOTE: lsp
[[plugins]]
repo    = 'neovim/nvim-lspconfig'
depends = ['mason.nvim', 'mason-lspconfig.nvim']

lua_source = '''
require('custom.lsp')
'''
[[plugins]]
repo     = 'jose-elias-alvarez/null-ls.nvim'
depends  = ['nvim-lspconfig', 'plenary.nvim', 'mason.nvim', 'mason-null-ls.nvim']
on_event = ['BufRead']

lua_source = '''
require('custom.null-ls')
'''
[[plugins]]
repo      = 'folke/neodev.nvim'
on_source = ['nvim-lspconfig']
[[plugins]]
repo      = 'lukas-reineke/lsp-format.nvim'
on_source = ['nvim-lspconfig', 'null-ls']

lua_source = '''
require('lsp-format').setup()
'''
[[plugins]]
repo      = 'b0o/SchemaStore.nvim'
on_source = 'nvim-lspconfig'
[[plugins]]
repo      = 'mortepau/codicons.nvim'
on_source = 'nvim-lspconfig'
[[plugins]]
repo      = 'onsails/lspkind.nvim'
on_source = 'nvim-lspconfig'

lua_source = '''
require('lspkind').init {
  mode = 'symbol',
  preset = 'codicons',
}
'''
[[plugins]]
repo      = 'https://git.sr.ht/~whynothugo/lsp_lines.nvim'
on_source = 'nvim-lspconfig'

hook_source = '''
lua require('custom.lsp_lines')
'''
[[plugins]]
repo      = 'folke/lsp-colors.nvim'
on_source = 'nvim-lspconfig'

hook_source = '''
lua require("lsp-colors").setup()
'''
[[plugins]]
repo      = 'SmiteshP/nvim-navic'
on_source = 'nvim-lspconfig'
[[plugins]]
repo      = 'LumaKernel/vim-tsdetect'
on_source = 'nvim-lspconfig'
[[plugins]]
repo   = 'weilbith/nvim-code-action-menu'
on_cmd = 'CodeActionMemu'

[[plugins]]
repo = 'kevinhwang91/promise-async'
[[plugins]]
repo     = 'kevinhwang91/nvim-ufo'
depends  = 'promise-async'
on_event = 'VimEnter'
if       = 0

lua_source = '''
vim.o.fillchars = [[eob: ,fold: ,foldopen:,foldsep: ,foldclose:]]
vim.o.foldcolumn = '1'
vim.o.foldlevel = 99
vim.o.foldlevelstart = 99
vim.o.foldenable = true

vim.keymap.set('n', 'zR', require('ufo').openAllFolds)
vim.keymap.set('n', 'zM', require('ufo').closeAllFolds)

require('ufo').setup()
'''

# NOTE: lspの前には有効化されていないといけない
[[plugins]]
repo    = 'google/vim-jsonnet'
on_path = '.jsonnet'


## NOTE: make your own mode
[[plugins]]
repo = 'anuvyklack/hydra.nvim'

hook_source = '''
lua require('custom.hydra')
'''

[[plugins]]
repo     = "b0o/incline.nvim"
depends  = ['nvim-web-devicons']
on_event = ['BufRead']

lua_source = '''
require("custom.incline")
'''

[[plugins]]
repo     = 'max397574/better-escape.nvim'
on_event = 'InsertEnter'

lua_source = '''
require('better_escape').setup {
  timeout = 200,
}
'''

## debug adapter protocol
# [[plugins]]
# repo = 'mfussenegger/nvim-dap'
# hook_source = '''
# lua <<EOF
#   local dap = require('dap')
#
#   -- flutter settign
#   dap.adapters.dart = {
#     type = "executable",
#     command = "flutter",
#     args = {"debug_adapter"}
#   }
#   require('dap.ext.vscode').load_launchjs(nil, { dart })
# EOF
# '''
# [[plugins]]
# repo = "rcarriga/nvim-dap-ui"
# depends = "nvim-dap"
# hook_source = '''
# lua require("dapui").setup()
# '''

# NOTE: markdown
[[plugins]]
repo  = 'SidOfc/mkdx'
on_ft = 'markdown'

hook_add = '''
let g:mkdx#settings = {
  \ 'map': {
  \   'enable': 0,
  \   'prefix': ',',
  \ },
  \ 'fold': {'enable': 0},
  \ }
'''
[plugins.ftplugin]
markdown = '''
" mapping
nnoremap <buffer> <C-_>  <Plug>(mkdx-promote-header)
nnoremap <buffer> <C-=> <Plug>(mkdx-demote-header)
'''

# NOTE: Neorg
[[plugins]]
repo = 'nvim-neorg/neorg'
depends = ['plenary.nvim', 'nvim-treesitter']
on_path = '.norg'
lua_source = '''
require('neorg').setup {
  load = {
    ["core.defaults"] = {},
    ["core.keybinds"] = {
      config = {
        default_keybinds = false
      },
    },
    ["core.norg.concealer"] = {},
  }
}
'''
[plugins.ftplugin]
norg = '''
lua require('keymap.neorg')
'''


## NOTE: sidebar
#[[plugins]]
#repo = 'simrat39/symbols-outline.nvim'
#on_event = 'BufRead'
#depends = 'nvim-lspconfig'
#hook_source = '''
#lua << EOF
#require('symbols-outline').setup {
#  keymaps = {
#    close = 'q'
#  }
#}
#EOF
#'''
# [plugins.ftplugin]
# Outline = '''
# setlocal wrap
# '''
# [[plugins]]
# repo = 'stevearc/aerial.nvim'
# on_event = 'BufRead'
# depends = ['codicons.nvim', 'stickybuf.nvim']
# lua_source = '''
# local codicons = require('codicons')
# require('aerial').setup {
#   backends = {
#     ['_'] = {'lsp', 'treesitter'},
#     -- markdown = {'markdown'},
#     markdown = {'treesitter'},
#     lua = {'treesitter'},
#   },
#   layout = {
#     width = 0.2,
#     placement = 'edge'
#   },
#   filter_kind = false,
#   attach_mode = 'global',
#   -- default_bindings = false,
#   show_guides = true,
#   icons = {
#     markdown = {
#       Interface = codicons.get('list-flat')
#     },
#     Collapsed = codicons.get('chevron-right'),
#   },
# }
# '''
# [[plugins]]
# repo = 'stevearc/stickybuf.nvim'
# lua_source = '''
# require('stickybuf').setup {
#   buftype = {
#     aerial = 'buftype',
#   }
# }
# '''
# [[plugins]]
# repo = 'sidebar-nvim/sidebar.nvim'
# on_event = 'BufRead'
# lua_source = '''
# require('sidebar-nvim').setup {
#  sections = {'symbols','buffers'},
# }
# '''
# [[plugins]]
# repo    = 'liuchengxu/vista.vim'
# depends = ['nvim-lspconfig']
# on_cmd  = ['Vista']

# [[plugins]]
# repo = 'lukas-reineke/headlines.nvim'
# on_ft = ['markdown', 'norg']
# hook_source = '''
# highlight Headline1 guibg=#30365F guifg=#f2ce00
# highlight Headline2 guibg=#30365F guifg=#C8DB01
# highlight Headline3 guibg=#30365F guifg=#ce6f8f
# highlight Dash      guibg=#D19A66 gui=bold
# " highlight CodeBlock guibg=#0f111b
# " highlight Quote guifg=#0099EC
# lua << EOF
# require('headlines').setup {
#   -- markdown = {
#   --   headline_highlights = {'Headline1','Headline2','Headline3'},
#   --   fat_headlines = true,
#   --   fat_headline_upper_string = '▃',
#   --   fat_headline_lower_string = '▀',
#   -- },
#   norg = {
#     query = vim.treesitter.parse_query(
#       "norg",
#       [[
#         [
#           (heading1_prefix)
#           (heading2_prefix)
#           (heading3_prefix)
#           (heading4_prefix)
#           (heading5_prefix)
#           (heading6_prefix)
#         ] @headline
# 
#         (weak_paragraph_delimiter) @dash
#         (strong_paragraph_delimiter) @doubledash
# 
#         ((ranged_tag
#           name: (tag_name) @_name
#           (#eq? @_name "code")
#         ) @codeblock (#offset! @codeblock 0 0 1 0))
# 
#         (quote1_prefix) @quote
#       ]]
#     ),
#     headline_highlights = { "Headline1","Headline2","Headline3" },
#     codeblock_highlight = "CodeBlock",
#     dash_highlight = "Dash",
#     dash_string = "-",
#     doubledash_highlight = "DoubleDash",
#     doubledash_string = "=",
#     quote_highlight = "Quote",
#     -- quote_string = "┃",
#     fat_headlines = false,
#     fat_headline_upper_string = "▃",
#     fat_headline_lower_string = '▀',
#   },
# }
# EOF
# '''

# [[plugins]]
# repo = 'Decodetalkers/csv-tools.lua'
# on_ft = 'csv'

[[plugins]]
repo = 'folke/todo-comments.nvim'
depends = ['plenary.nvim']
on_event = 'BufRead'
lua_source = '''
require('todo-comments').setup({
  highlight = {
    multiline = false,
  },
})
'''

[[plugins]]
repo = 'mrjones2014/smart-splits.nvim'
on_event = 'BufReadPost'
lua_source = '''
require('custom.smart-splits')
'''
[[plugins]]
repo = 'johann2357/nvim-smartbufs'
on_event = 'BufReadPost'
lua_source = '''
require('custom.nvim-smartbufs')
'''
[[plugins]]
repo = 'kwkarlwang/bufresize.nvim'
on_event = 'BufReadPost'
lua_source = '''
require('bufresize').setup({
  --resize = {
  --  increment = 5,
  --},
})
'''


[[plugins]]
repo = 'cohama/lexima.vim'
on_event = "InsertEnter"
hook_add = '''
autocmd FileType ddu-ff,ddu-filer let b:lexima_disabled = 1
'''
hook_source = '''
call lexima#set_default_rules()
'''

## 囲みを付けたり変更したり
[[plugins]]
repo     = 'machakann/vim-sandwich'
on_event = "InsertEnter"

## color code highlighter
[[plugins]]
repo = 'norcalli/nvim-colorizer.lua'
on_ft = ['toml', 'css', 'sh', 'vim', 'lua']
lua_source = '''
require('colorizer').setup()
'''

# NOTE: treesitter
[[plugins]]
repo = 'nvim-treesitter/nvim-treesitter'
merged = 0
on_event = 'BufRead'
hook_post_source = 'TSUpdate'
lua_source = '''
require('custom.nvim-treesitter')
'''
[[plugins]]
repo      = 'windwp/nvim-ts-autotag'
on_source = 'nvim-treesitter'
#[[plugins]]
#repo = 'https://git.sr.ht/~p00f/nvim-ts-rainbow'
#on_source = 'nvim-treesitter'
#hook_add = '''
#highlight rainbowcol1 guifg=#B2C224
#highlight rainbowcol2 guifg=#FECC31
#highlight rainbowcol3 guifg=#F9A327
#highlight rainbowcol4 guifg=#F6621E
#highlight rainbowcol5 guifg=#EE647A
#highlight rainbowcol6 guifg=#A463D8
#highlight rainbowcol7 guifg=#3FA4D9
#'''
# [[plugins]]
# repo      = 'TornaxO7/tree-setter'
# on_source = 'nvim-treesitter'
#[[plugins]]
#repo     = 'haringsrob/nvim_context_vt'
#depends  = 'nvim-treesitter'
#on_event = 'BufReadPost'
# [[plugins]]
# repo      = 'romgrk/nvim-treesitter-context'
# on_source = 'nvim-treesitter'
#[[plugins]]
#repo      = 'JoosepAlviste/nvim-ts-context-commentstring'
#on_source = 'nvim-treesitter'
#depends   = ['nvim-treesitter']
[[plugins]]
repo = 'm-demare/hlargs.nvim'
depends = ['nvim-treesitter']
on_event = 'BufReadPost'
lua_source = '''
require('hlargs').setup()
'''

[[plugins]]
repo     = 'tpope/vim-repeat'
on_event = 'BufRead'

[[plugins]]
repo     = 'lambdalisue/pinkyless.vim'
on_event = 'InsertEnter'

#[[plugins]]
#repo = 'skanehira/denops-gh.vim'
#depends = ['denops.vim', 'ddc.vim']
#on_event=['VimEnter']
#hook_source = '''
#augroup gh_ddc
#  au!
#  au User gh_open_issue call <SID>enableAutoCompletionForGh('gh_issues')
#  au User gh_open_issue_assignees call <SID>enableAutoCompletionForGh('gh_issues_assginees')
#augroup END
#
#function! s:enableAutoCompletionForGh(kind) abort
#  call ddc#custom#patch_buffer('sources', [a:kind])
#  call ddc#custom#patch_buffer('specialBufferCompletion', v:true)
#  " If you want to complements with japanese, you should add keywordPattern
#  call ddc#custom#patch_buffer({'keywordPattern':
#        \ "[a-zA-Z0-9_À-ÿ\u30a0-\u30ff\u3040-\u309f\u3005-\u3006\u30e0-\u9fcf]*"})
#  let option = {}
#  if a:kind ==# 'gh_issues'
#    let option = {'gh_issues': {
#          \  'matcherKey': 'menu',
#          \  'minAutoCompleteLength': 1,
#          \ }}
#  elseif a:kind ==# 'gh_issues_assginees'
#    let option = {'gh_issues_assginees': {
#          \  'minAutoCompleteLength': 1,
#          \ }}
#  endif
#  call ddc#custom#patch_buffer('sourceOptions', option)
#endfunction
#'''

# [[plugins]]
# repo = 'gamoutatsumi/dps-ghosttext.vim'
# depends = ['denops.vim', 'ddc.vim']
# on_cmd = 'GhostStart'
# hook_source = '''
# let g:dps_ghosttext#ftmap = {
#  \ "github.com": "markdown",
#  \ "ghosttext.fregante.com": "markdown",
#  \ "redmine.digitalatelier.jp": "markdown",
#  \ "notion.so": "markdown",
#  \ }
# '''

# [[plugins]]
# repo = 'mattn/emmet-vim'
# on_ft = [ "html" ]
[[plugins]]
repo = 'mattn/vim-sonictemplate'
# on_event = 'BufRead'
[[plugins]]
repo = 'rhysd/committia.vim'

# TODO: ddcと干渉しないように設計したい
# NOTE: 今のところはfishのときしか有効にしていないので大丈夫だと思われる
# [[plugins]]
# repo = 'hrsh7th/nvim-cmp'
# # on_ft = ['fish', 'norg']
# # on_event = 'BufReadPre'
# lua_source = """
# local cmp = require('cmp')
# local mapping = cmp.mapping.preset.insert({
#   ['<C-Space>'] = cmp.mapping.complete(),
#   ['<C-e>'] = cmp.mapping.abort(),
#   ['<CR>'] = cmp.mapping.confirm({ select = true }), -- Accept currently selected item. Set `select` to `false` to only confirm explicitly selected items.
#   ['<Tab>'] = function(fallback)
#     if cmp.visible() then
#       cmp.select_next_item()
#     else
#       fallback()
#     end
#   end,
#   ['<S-Tab>'] = function(fallback)
#     if cmp.visible() then
#       cmp.select_prev_item()
#     else
#       fallback()
#     end
#   end,
# })
# cmp.setup.filetype('norg', {
#   sources = {
#     { name = 'neorg' }
#   },
#   mapping = mapping,
# })
# -- cmp.setup.filetype('fish', {
# --   sources = {
# --     { name = 'omni' }
# --   },
# --   mapping = mapping,
# -- })
# """
# [[plugins]]
# repo      = 'hrsh7th/cmp-omni'
# depends   = 'nvim-cmp'
# on_source = ['nvim-cmp']

[[plugins]]
repo = 'Shougo/deol.nvim'
depends = ['ddu.vim']
hook_add = '''
nnoremap <silent><C-s>
  \ <Cmd>Deol fish -no-start-insert -toggle -split=farright<CR>
nnoremap <silent> sD <Cmd>call deol#kill_editor()<CR>
" nnoremap <silent> <C-t> <Cmd>Ddu -name=deol
"   \ -ui-param-split=floating
"   \ -ui-param-winRow=1 -ui-param-autoResize
"   \ -ui-param-cursorPos=`tabpagenr()-1`
"   \ deol<CR>
'''
hook_source = '''
let g:deol#enable_dir_changed = v:false
let g:deol#prompt_pattern = '\w*% \?'
let g:deol#shell_history_path = '~/.zsh-history'
let g:deol#extra_options = {
    \ 'term_kill': 'kill',
    \ }
" call ddu#custom#patch_global({
"    \   'sourceParams': {
"    \     'deol': {
"    \       'command': ['fish'],
"    \     },
"    \   }
"    \ })

tnoremap <ESC> <C-\><C-n>
" tnoremap <expr><C-t> ddc#manual_complete()
" tnoremap <silent><expr> <Tab> pum#visible() ?
"     \ '<Cmd>call pum#map#insert_relative(+1)<CR>' :
"     \ '<Tab>'
" tnoremap <silent><expr> <S-Tab> pum#visible() ?
"     \ '<Cmd>call pum#map#insert_relative(-1)<CR>' :
"     \ '<S-Tab>'
" tnoremap <Down>   <Cmd>call pum#map#select_relative(+1)<CR>
" tnoremap <Up>     <Cmd>call pum#map#select_relative(-1)<CR>
" tnoremap <silent><expr> <C-y>
"     \ pum#visible() ? '<Cmd>call pum#map#confirm()<CR>' : '<C-y>'
" tnoremap <silent><expr> <C-e>
"     \ pum#visible() ? '<Cmd>call pum#map#cancel()<CR>' : '<C-e>'
'''
[plugins.ftplugin]
deol = '''
nnoremap <buffer><silent> gc
\ <Cmd>call deol#send('git commit')<CR>
nnoremap <buffer><silent> gs
\ <Cmd>call deol#send('git status')<CR>
nnoremap <buffer><silent> gA
\ <Cmd>call deol#send('git commit --amend')<CR>
nmap <buffer> e <Plug>(deol_edit)
tmap <buffer> <CR> <Plug>(deol_execute_line)
call ddc#custom#patch_buffer('sourceOptions', {
    \ '_': {
    \   'converters': [],
    \ },
    \ })
'''

## flutter development
# [[plugins]]
# repo = 'akinsho/flutter-tools.nvim'
# depends = ['plenary.nvim']
# on_ft = 'dart'
# hook_source = '''
# lua << EOF
#   require("flutter-tools").setup {
#     dev_tools = {
#       autostart = true
#     },
#     lsp = {
#       on_attach = require("custom.lsp.config").on_attach,
#       autostart = true
#     },
#     widget_guides = {
#       enabled = true
#     }
#   }
#
#   require('which-key').register({
#     ['<Leader>'] = {
#       F = {
#         name = '+flutter',
#         r = {'<cmd>FlutterRun<cr>', 'flutter run'},
#         R = {'<cmd>FlutterRestart<cr>', 'flutter restart'},
#         q = {'<cmd>FlutterQuit<cr>', 'flutter quit'},
#         o = {'<cmd>FlutterOutline<cr>', 'flutter quit'},
#       }
#     }
#   })
# EOF
# '''

[[plugins]]
repo = 'editorconfig/editorconfig-vim'

# [[plugins]]
# repo  = 'HerringtonDarkholme/yats.vim'
# on_ft = ['typescript', 'typescriptreact']

## textobject
# [[plugins]]
# repo = 'kana/vim-textobj-user'
# [[plugins]]
# repo = 'kana/vim-textobj-line'

# [[plugins]]
# repo = 'itchyny/lightline.vim'
# on_event = ['VimEnter']
# hook_add = '''
# lua_source = '''
# lua require('custom.lightline')
# '''
# [[plugins]]
# repo = 'mengelbrecht/lightline-bufferline'
# depends = ['lightline.vim']
# '''
# [[plugins]]
# repo = 'mengelbrecht/lightline-bufferline'
# depends = ['lightline.vim']
